---
title: 对于豆瓣API的一些看法
date: 2013-01-19 16:57:00
urlname: some-thoughts-on-the-douban-api
cover: https://cdn.jsdelivr.net/gh/cath-gh/pictures@main/Obsidian/cath-gh.github.io/douban.webp
thumbnail: https://cdn.jsdelivr.net/gh/cath-gh/pictures@main/Obsidian/cath-gh.github.io/douban.webp
categories:
  - [随笔]
  - [旧文]
tags:
  - 豆瓣
  - cath.dnip.net
---
### 原文
第一次接触到豆瓣API应该是在它的小组，当时还是V1版本，提供的函数也很有限。原本我想要做一个功能上类似豆瓣的本地程序，其实即便在当年来看winform也不再是趋势了。我的初衷是，豆瓣对于图书、音乐的条目是以实际发行版本作区分的，这就会导致明明是一个作品却拥有多个条目。比如说台湾地区的音乐专辑，很可能会区分出一个大陆版来，而即便不区分，也会有各种各样的白天、黑夜、微笑、哭泣版本出现。如果说不同的版本确实有一两首歌的不同，确实需要区分对待，音乐勉强可以接受，不过图书就没那么多迫切的需要了。不同的出版社、不同的年份，我看的都是[三国演义](https://book.douban.com/subject_search?search_text=%E4%B8%89%E5%9B%BD%E6%BC%94%E4%B9%89&cat=1001)，我想记录的是我看了这本书，而不在乎其他信息。当然在译本书籍上区分还是必要的，毕竟译者的不同往往决定着文字的质量，这个可以借助额外的描述，书的名字仍旧只采用一个。

<!--more-->

我当时的想法就是做一个条目更清晰豆瓣版本，应该是百度链接到了豆瓣API小组，也第一次接触到了OAuth。想做和做出来毕竟是两回事，可以说基本上不会写代码的我还专门百度知道问了下什么适合做这种应用，也是因为那个回答让我走上了学习C#的路。因为能力准备不够，所以很快就放弃了。第一次尝试失败了，但是我提了一个[问题](http://www.douban.com/group/topic/9791758/)，现在看来这么多年过去了，豆瓣还真是没啥变化。豆瓣的APP除了一个fm，其他的那个也没触碰到豆瓣发家的核心部分——三大门类的收藏和评论。什么态度？其实也就是不太支持网友们自己瞎搞。

直接跨接到现在的V2版本，提供的方法更少了，权限限制更严重了。豆瓣最初的想法可能是放出一些借口，看看网友们能不能做出点新鲜的东西，但是自己核心的东西又舍不得放，即使是周边功能也是有这个没那个。就那么几个干巴巴的借口，豆瓣以为网友都是数据挖掘的大神啊，看看豆瓣API小组几天不翻页的帖子和各种没人回答的问题，你还在奢求什么呢？

我第二次关注豆瓣API时，OAuth版本已经变成了V2。看了看文档，认证上更方便了，返回json格式文本也方便解析，难道晴天来了，那就再来过吧。我真的没想到重蹈覆辙竟然这么的容易，如果说[豆瓣API的文档](http://developers.douban.com/wiki/?title=api_v2)中看不中用，那么看看[新浪微博的文档](http://open.weibo.com/wiki/%E9%A6%96%E9%A1%B5)，就觉得这样的评价也高抬了。返回的json字段和你描述的不一样不要紧，我直接人工看一遍也ok；V1到V2部分类共存也不要紧，我多写几个也能对付；返回字段时有时无也不要紧，用了Newtonsoft.Json后一切搞定；你返回的photo字段格式变态也不要紧，我用dynamic(实际用object即可)加正则一样搞定。可是在我克服了重重困难之后，迎接我的却是各种莫名其妙的情况。更新日记不返回json对象，而是一堆\\之后的字符串；[部分搜索类方法不加token跑的通，加了就不行](http://www.douban.com/group/topic/35635356/)；返回的count、total不准确；最离谱的就是[个别方法一直不正常工作](http://www.douban.com/group/topic/36034617/)。我所能想到的就是，豆瓣官方对于这个项目是没有多少支持的，甚至是不支持的也未可知。

前面有一段忘了说，就是在第二次尝试时，我起初用的是正则表达式的法子，后来觉得太麻烦(豆瓣三大类页面代码极大的不同)，才考虑使用API的。现在看来API+正则似乎是比较完美的方案，正则不怕别的，就怕突然改版，不过只要不是大面积的应该都能应付。

最后说点闲话吧，用豆瓣这些年有过一个想法。豆瓣不是搞技术的地方；豆瓣人文气息不浓，小资、假文艺、装的都不少；豆瓣不搞文化，自然没有也出不了大家；阿尔法城是豆瓣的败笔，从测试开始我就是这么看的；九点是个好地方，应该融合到主站里面，在丰富一下内容就更好了；豆瓣FM本来很好的，现在广告太多了，也推出了收费的版本，呵呵。

### 再读旧文
> 以上内容为旧文搬运，文中链接、图片、方法均已不可考，仅做个人记录  
> 日期：2022年2月26日

豆瓣API似乎真的已经荒废了，可能是没能发现和带来真正有价值的产品，无论是豆瓣自己还是寄希望于外界开发者。豆瓣最有价值的数据却没有得到更进一步的挖掘与展示，这是可惜的；豆瓣沦为水军、软文的战场之一，这是可悲的；豆瓣在炒作元宇宙概念之前很多年就砍掉了自己的阿尔法城，这是可叹的。  
我喜欢豆瓣，在当年看到回顾阿北在豆瓣胡同的咖啡馆敲出了豆瓣网站的文章时，更是沉浸于那种既文艺又生活的感觉。后来小众网站走红了、林子也大了、商业化的压迫又难以避免，反应滞后、方向摇摆、东施效颦这些文字用来描述豆瓣这些年的决定丝毫不过分。  
我喜欢豆瓣，我希望它还能好起来，在商业化的时代完成利益与梦想的调和。